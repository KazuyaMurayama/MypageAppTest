# 要件定義書 - 人材エージェントマイページシステム

## 1. 概要・プロジェクトの目的

### プロジェクト名
人材エージェントマイページシステム（デモ版：最大99名対応）

### 目的（Why）
人材エージェント業務における応募者情報の管理効率を向上させ、応募者とエージェント間の情報共有をスムーズにする。従来のメール・電話ベースのやり取りから、Webシステムによる一元管理へ移行することで、情報伝達の遅延や漏れを防ぎ、業務効率を大幅に改善する。

### 達成目標（What）
- 応募者情報の一元管理により情報検索時間を50%削減
- 求人情報と応募者の紐付けをシステム化し、マッチング精度を向上
- 全文検索機能により、必要な応募者情報を1秒以内に検索可能
- 書類管理のペーパーレス化により保管コストを削減
- オンプレミス環境での安定稼働（稼働率99.5%以上）

### 期待される効果
- 応募者情報の検索時間短縮による業務効率化
- 求人資料の一元管理による情報共有の円滑化
- 応募状況のリアルタイム把握による迅速な対応
- セキュアな情報管理による個人情報保護の強化

## 2. システム化の背景と現状の課題

### システム化の背景
- 応募者数の増加に伴い、Excel・紙ベースの管理が限界
- メールや電話での情報共有は履歴が残りにくく、伝達漏れが発生
- 求人情報の更新を応募者に個別通知するのが非効率
- 書類管理が属人化し、担当者不在時に情報が見つからない

### 現状の業務フロー（As-Is）
1. 応募者から履歴書をメールで受領
2. Excelに基本情報を手入力
3. 履歴書をファイルサーバーに保存
4. 求人情報をメールで個別送信
5. 応募状況をExcelで管理
6. 商談メモをノートや別ファイルに記録

### 現状の課題・問題点
- **情報の分散**: 履歴書、Excel、メモが別々の場所に保存され、検索に時間がかかる
- **リアルタイム性の欠如**: 応募状況の更新が遅れ、最新状態が分からない
- **検索性の低さ**: Excelでの部分検索は時間がかかり、複数条件での絞り込みが困難
- **セキュリティリスク**: メール添付での書類送信は誤送信のリスクあり
- **属人化**: 担当者が不在だと情報にアクセスできない

## 3. 新システムの全体像

### システム構成図
```
[応募者 - PC/スマホ]
    ↓ HTTPS (SSL/TLS)
[Nginx/Apache Webサーバー]
    ↓
[React フロントエンド]
    ↓
[Node.js/Python バックエンド]
    ↓
[PostgreSQL/MySQL データベース]
[Elasticsearch 全文検索エンジン]
[ローカルストレージ (10GB)]

[エージェント - PC]
    ↓ HTTPS (SSL/TLS)
[同上のWebサーバー]
```

### システム関連図
- 外部連携なし（完全スタンドアローン）
- 自社サーバー内で完結（オンプレミス環境）
- 将来的な拡張：メール通知（SMTP連携）、SMS通知、API公開

## 4. 業務フローの比較（As-Is / To-Be）

### As-Is（現状）
1. 応募者登録 → メールで履歴書受領 → Excelに手入力
2. 履歴書保存 → ファイルサーバーに手動保存
3. 求人情報共有 → メールで個別送信
4. 応募状況管理 → Excelで手動更新
5. 情報検索 → Excelのフィルター機能で検索（時間がかかる）
6. 商談記録 → ノートや別ファイルに記録

### To-Be（新システム）
1. 応募者登録 → マイページから本人が入力 → 自動登録
2. 履歴書保存 → マイページから直接アップロード → 自動保存
3. 求人情報共有 → 求人資料をアップロード → 応募者マイページに自動反映
4. 応募状況管理 → エージェントがステータスを更新 → 応募者マイページに即反映
5. 情報検索 → 全文検索で1秒以内に検索結果表示
6. 商談記録 → システム内にメモとして記録 → 応募者紐付けで一元管理

**改善点と効果**
- 情報入力の自動化により入力作業時間を70%削減
- リアルタイム同期により情報伝達の遅延ゼロ
- 全文検索により検索時間を90%削減
- セキュアなファイル管理により誤送信リスクゼロ
- 一元管理により情報へのアクセス性向上

## 5. 機能要件

### 5.1 機能一覧

#### 大項目：応募者マイページ機能
- **中項目：認証**
  - 小項目：ログイン（メールアドレス・パスワード）
  - 小項目：パスワード変更
  
- **中項目：個人情報管理**
  - 小項目：個人情報の閲覧
  - 小項目：個人情報の編集（氏名、連絡先、経歴、希望条件など）
  
- **中項目：求人情報**
  - 小項目：求人情報一覧の閲覧
  - 小項目：求人資料のダウンロード（PDF、Excel、Word）
  - 小項目：応募状況の確認
  
- **中項目：書類管理**
  - 小項目：履歴書・職務経歴書のアップロード（PDF形式、最大300MB）
  - 小項目：アップロード済み書類の閲覧・削除
  
- **中項目：通知**
  - 小項目：システム内通知の確認
  - 小項目：新規求人情報の通知
  - 小項目：ステータス変更の通知

#### 大項目：人材エージェント管理機能
- **中項目：認証**
  - 小項目：ログイン（ID・パスワード）
  - 小項目：パスワード変更
  
- **中項目：応募者管理**
  - 小項目：応募者情報の一覧表示
  - 小項目：応募者情報の詳細閲覧
  - 小項目：応募者情報の編集
  - 小項目：フィルタリング（ステータス、登録日、希望条件など）
  - 小項目：並び替え（登録日、更新日、氏名など）
  
- **中項目：全文検索**
  - 小項目：氏名、職歴、スキル、資格、自己PR等の横断検索
  - 小項目：AND/OR/NOT検索
  - 小項目：部分一致・前方一致検索
  - 小項目：検索結果のハイライト表示
  
- **中項目：求人管理**
  - 小項目：求人情報のアップロード（PDF、Excel、Word、最大100MB）
  - 小項目：求人情報一覧の表示
  - 小項目：求人情報と応募者の紐付け
  - 小項目：求人情報の編集・削除
  
- **中項目：ステータス管理**
  - 小項目：応募者のステータス更新（応募中、書類選考、面接、内定など）
  - 小項目：ステータス変更履歴の記録
  
- **中項目：商談メモ**
  - 小項目：応募者ごとの商談メモ作成
  - 小項目：商談メモの編集・削除
  - 小項目：商談メモの検索
  - 小項目：商談メモは応募者には非表示
  
- **中項目：活動履歴**
  - 小項目：応募者の操作履歴記録
  - 小項目：エージェントの操作履歴記録
  - 小項目：履歴の一覧表示・検索
  
- **中項目：データ管理**
  - 小項目：応募者データのCSVエクスポート
  - 小項目：求人データのCSVエクスポート

#### 大項目：共通機能
- **中項目：通知機能**
  - 小項目：システム内通知の送受信
  - 小項目：通知履歴の表示
  
- **中項目：ファイル管理**
  - 小項目：ファイルアップロード時のウイルススキャン
  - 小項目：ファイルのプレビュー表示
  - 小項目：ファイルのダウンロード

### 5.2 機能概要と詳細シナリオ

#### 機能：応募者情報の登録・編集（応募者側）
**目的**: 応募者が自身の情報を登録・更新する

**利用シナリオ**:
1. 応募者がマイページにログイン
2. 「個人情報」メニューをクリック
3. 氏名、連絡先、経歴、希望条件などを入力
4. 「保存」ボタンをクリック
5. システムが入力内容をバリデーション
6. データベースに保存され、更新完了メッセージ表示

**入出力情報**:
- 入力：
  - 氏名（必須、1-50文字）
  - メールアドレス（必須、RFC準拠）
  - 電話番号（必須、ハイフンなし10-11桁）
  - 住所（任意、1-100文字）
  - 生年月日（必須、YYYY-MM-DD形式）
  - 職歴（任意、1-2000文字）
  - スキル（任意、1-500文字）
  - 資格（任意、1-500文字）
  - 自己PR（任意、1-1000文字）
  - 希望条件（任意、1-500文字）
- 出力：更新日時、更新成功/失敗のステータス

#### 機能：全文検索（エージェント側）
**目的**: 応募者情報を横断的に検索し、条件に合う人材を素早く見つける

**利用シナリオ**:
1. エージェントが管理画面の検索バーにキーワードを入力（例：「Python AWS 経験3年以上」）
2. 「検索」ボタンをクリック
3. システムが全文検索エンジンでデータを検索
4. 検索結果が1秒以内に表示される
5. マッチした箇所がハイライト表示される
6. 検索結果から応募者詳細画面へ遷移可能

**入出力情報**:
- 入力：検索キーワード（1-100文字）
- 出力：
  - 検索結果リスト（応募者ID、氏名、マッチ箇所）
  - 検索結果件数
  - 実行時間

#### 機能：求人情報のアップロードと共有
**目的**: エージェントが求人情報をアップロードし、応募者が閲覧できるようにする

**利用シナリオ（エージェント側）**:
1. エージェントが管理画面で「求人情報アップロード」をクリック
2. ファイル選択ダイアログで求人資料を選択（PDF、Excel、Word）
3. 求人タイトル、企業名、募集要項を入力
4. 「アップロード」ボタンをクリック
5. ファイルがサーバーに保存される
6. 対象応募者を選択して紐付け
7. 応募者のマイページに自動的に表示される

**利用シナリオ（応募者側）**:
1. 応募者がマイページにログイン
2. 「求人情報」メニューをクリック
3. 紐付けられた求人一覧が表示される
4. 求人をクリックして詳細を確認
5. 「ダウンロード」ボタンで求人資料をダウンロード

**入出力情報**:
- 入力：
  - 求人タイトル（必須、1-100文字）
  - 企業名（必須、1-50文字）
  - 募集要項（任意、1-2000文字）
  - ファイル（PDF/Word/Excel、最大100MB）
- 出力：求人ID、アップロード日時、ファイルURL

#### 機能：応募ステータス管理
**目的**: 応募者の選考状況を管理し、進捗を可視化する

**利用シナリオ**:
1. エージェントが応募者詳細画面を開く
2. 現在のステータスが表示される（例：「書類選考中」）
3. ステータスドロップダウンから新しいステータスを選択（例：「面接」）
4. 「更新」ボタンをクリック
5. ステータスが更新され、履歴が記録される
6. 応募者のマイページにも反映され、通知が送信される

**入出力情報**:
- 入力：
  - 応募者ID（必須）
  - 新しいステータス（必須）
  - 備考（任意、1-500文字）
- 出力：更新日時、更新者ID、ステータス履歴

#### 機能：商談メモの作成・編集
**目的**: エージェントが応募者との商談内容を記録し、社内で共有する

**利用シナリオ**:
1. エージェントが応募者詳細画面で「商談メモ」タブを開く
2. 「新規メモ作成」ボタンをクリック
3. メモのタイトルと内容を入力
4. 「保存」ボタンをクリック
5. メモが応募者に紐付けて保存される
6. 他のエージェントもメモを閲覧可能（応募者には非表示）

**入出力情報**:
- 入力：
  - 応募者ID（必須）
  - メモタイトル（必須、1-100文字）
  - メモ内容（必須、1-5000文字）
- 出力：メモID、作成日時、作成者ID

## 6. 非機能要件

### 6.1 性能・拡張性
- **画面表示**: 2秒以内
- **検索実行**: 1秒以内（99名のデータ検索時）
- **ファイルアップロード**: 100MBあたり30秒以内
- **同時接続数**: 最大20名（応募者+エージェント）
- **対応ユーザー数**: 最大99名の応募者 + エージェント社員10名程度
- **ストレージ容量**: 
  - 1応募者平均30MB（最大300MB）
  - 全体10GB

### 6.2 可用性
- **サービス稼働率**: 99.5%以上
- **営業時間**: 平日9:00-18:00で安定稼働必須
- **RTO（目標復旧時間）**: 4時間以内
- **RPO（目標復旧ポイント）**: 24時間以内（日次バックアップ）
- **バックアップ**: 日次バックアップ（データベース・ファイル）、7日間保持

### 6.3 運用・保守性
- **ログ管理**: エラーログ、アクセスログの自動記録
- **監視**: サーバーリソース（CPU、メモリ、ディスク）の監視
- **障害対応**: 営業時間内は2時間以内に対応開始
- **保守契約**: 初期導入のみ（保守契約なし）

### 6.4 移行性
- 初回リリースのため既存システムからの移行不要
- Excelデータのインポート機能は次期フェーズで検討

### 6.5 セキュリティ
- **通信暗号化**: SSL/TLS 1.3
- **認証方式**: ID・パスワード認証（bcryptでハッシュ化）
- **パスワードポリシー**: 8文字以上、英数字記号を含む
- **セッション管理**: 30分間無操作でタイムアウト
- **アクセス制御**: 
  - 応募者は自分の情報のみアクセス可能
  - エージェントは全応募者の情報にアクセス可能
- **XSS対策**: Reactの標準エスケープ処理 + Content Security Policy
- **SQLインジェクション対策**: プリペアドステートメント必須
- **CSRF対策**: CSRFトークンの実装
- **ファイルセキュリティ**: アップロード時のウイルススキャン
- **入力値バリデーション**: 
  - クライアント側とサーバー側の両方で検証
  - HTMLタグ・スクリプトの禁止
  - ファイル形式・サイズの制限

### 6.6 システム環境（制約条件）
- **サーバー環境**: 
  - OS: Ubuntu Server 22.04 LTS または CentOS Stream 9
  - CPU: 4コア以上
  - メモリ: 16GB以上（32GB推奨）
  - ストレージ: SSD 100GB以上
  - ネットワーク: 固定IPアドレス、ファイアウォール設定可能
- **対応ブラウザ**: 
  - Chrome、Edge、Safari、Firefox（各最新版および1世代前）
- **対応デバイス**: 
  - PC、タブレット、スマートフォン（レスポンシブデザイン）
  - 最小画面幅: 375px（iPhone SE）

## 7. 対象範囲（スコープ）

### In Scope（今回対応）
- 応募者マイページ（個人情報管理、求人閲覧、書類アップロード）
- エージェント管理画面（応募者管理、全文検索、求人管理、ステータス管理）
- 基本的なID・パスワード認証
- システム内通知機能
- ファイルアップロード・ダウンロード
- 全文検索機能
- レスポンシブデザイン
- 自社サーバーへの導入
- 詳細なテストケース作成と体系的テスト

### Out of Scope（対象外・次期フェーズ）
- メール・SMS通知機能
- 外部システム連携（ATS、CRM等）
- プッシュ通知
- チャット機能
- カレンダー機能（面接日程調整等）
- オンライン面接機能
- 多言語対応
- ダークモード
- AIによる求人マッチング
- ソーシャルログイン
- 二要素認証
- 応募者向けモバイルアプリ
- データ分析ダッシュボード
- レポート自動生成機能
- 月額保守サービス

## 8. UI/UX概要

### デザインコンセプト
- **シンプル**: 機能を詰め込みすぎず、必要な情報にすぐアクセスできる
- **直感的**: 説明なしで操作できるUI
- **効率的**: クリック数を最小限に抑えた設計
- **レスポンシブ**: PC・タブレット・スマホで同じ操作感

### 主要画面一覧

#### 応募者マイページ
1. **ログイン画面**
   - メールアドレス・パスワード入力欄
   - ログインボタン
   - パスワード再設定リンク

2. **ダッシュボード**
   - 最新の求人情報（3件）
   - 現在の応募状況
   - システム通知（5件）
   - 個人情報編集へのリンク

3. **個人情報編集画面**
   - 基本情報入力フォーム
   - 職歴・スキル入力エリア
   - 保存ボタン

4. **求人情報一覧**
   - 求人カード表示（グリッドレイアウト）
   - 求人タイトル、企業名、募集要項
   - ダウンロードボタン

5. **書類管理画面**
   - アップロード済み書類一覧
   - ファイルアップロード欄
   - プレビュー・削除ボタン

6. **通知一覧**
   - 通知リスト（日付順）
   - 未読・既読の区別
   - 通知詳細表示

#### エージェント管理画面
1. **ログイン画面**
   - ID・パスワード入力欄
   - ログインボタン

2. **ダッシュボード**
   - 応募者総数、ステータス別内訳
   - 最近の活動履歴
   - 新規応募者リスト
   - クイック検索バー

3. **応募者一覧画面**
   - 応募者リストテーブル
   - フィルター・ソート機能
   - 全文検索バー
   - 詳細画面へのリンク

4. **応募者詳細画面**
   - 個人情報表示
   - ステータス管理
   - 紐付け求人一覧
   - アップロード済み書類
   - 商談メモ
   - 活動履歴

5. **求人管理画面**
   - 求人一覧テーブル
   - 求人アップロードボタン
   - 求人編集・削除ボタン
   - 応募者紐付け機能

6. **商談メモ画面**
   - メモ一覧
   - メモ作成フォーム
   - メモ編集・削除ボタン

### 画面遷移フロー

#### 応募者側
```
[ログイン] → [ダッシュボード] ←→ [個人情報編集]
                 ↓
                 ├→ [求人情報一覧] → [求人詳細]
                 ├→ [書類管理]
                 └→ [通知一覧]
```

#### エージェント側
```
[ログイン] → [ダッシュボード] ←→ [応募者一覧] ←→ [応募者詳細]
                 ↓                                    ↓
                 └→ [求人管理]                        ├→ [商談メモ]
                                                      └→ [活動履歴]
```

### 主要なUI要素
- **応募者マイページ**: 
  - サイドバーナビゲーション（PC）
  - ハンバーガーメニュー（スマホ）
  - カード型レイアウト
  - モーダルウィンドウ（編集時）
  
- **エージェント管理画面**: 
  - 上部ナビゲーションバー
  - 左サイドバーメニュー
  - テーブル型データ表示
  - タブ切り替え（詳細画面）

## 9. 開発体制と役割分担

### 体制図
- **プロジェクトオーナー**: 人材エージェント会社
- **プロジェクトマネージャー**: 開発ベンダー（1名）
- **バックエンド開発**: 開発ベンダー（1-2名）
- **フロントエンド開発**: 開発ベンダー（1-2名）
- **インフラエンジニア**: 開発ベンダー（1名）
- **QAエンジニア**: 開発ベンダー（1名）

### 役割分担（RACI）
| タスク | プロジェクトオーナー | PM | 開発者 | インフラ | QA |
|--------|---------------------|-------|--------|---------|-----|
| 要件定義 | A/R | C | I | I | I |
| 設計 | C | A/R | C | C | I |
| 開発 | I | A | R | C | I |
| インフラ構築 | I | A | I | R | I |
| テスト | C | A | C | C | R |
| リリース判断 | A/R | C | I | I | I |

**凡例**: A=承認、R=実行責任、C=相談、I=情報共有

## 10. スケジュール

### マイルストーン
| フェーズ | 期間 | 完了予定日 |
|---------|------|-----------|
| 要件定義完了 | 1週間 | 2025年10月24日 |
| 設計完了 | 2週間 | 2025年11月7日 |
| 開発完了 | 6-8週間 | 2026年1月2日 |
| インフラ構築完了 | 2週間 | 2026年1月16日 |
| テスト完了 | 3-4週間 | 2026年2月13日 |
| 受入・導入完了 | 1-2週間 | 2026年2月27日 |
| 本番稼働 | - | 2026年3月1日 |

### WBS（概要）
1. **要件定義フェーズ（1週間）**
   - ヒアリング
   - 要件整理
   - 要件定義書作成

2. **設計フェーズ（2週間）**
   - 画面設計
   - データベース設計
   - API設計
   - システム設計
   - 基本設計書・詳細設計書作成

3. **開発フェーズ（6-8週間）**
   - フロントエンド開発（React + TypeScript + Bootstrap）: 2-3週間
   - バックエンド開発（Node.js/Python）: 2-3週間
   - データベース構築（PostgreSQL/MySQL）: 1週間
   - 全文検索機能実装（Elasticsearch）: 1週間
   - 認証・セキュリティ実装: 1週間
   - ファイルアップロード・管理機能: 1週間
   - 単体テスト

4. **インフラ構築フェーズ（2週間）**
   - サーバー環境構築・設定: 1週間
   - OS・ミドルウェアインストール・設定: 0.5週間
   - SSL証明書設定・ファイアウォール設定: 0.5週間

5. **テストフェーズ（3-4週間）**
   - テスト計画書・テストケース作成: 1週間
   - 結合テスト・システムテスト: 1.5週間
   - ブラウザ互換性テスト: 0.5週間
   - セキュリティテスト: 1週間

6. **受入・導入フェーズ（1-2週間）**
   - 受入テスト: 1週間
   - マニュアル作成: 0.5週間
   - 導入研修・説明会: 0.5週間

## 11. 予算概算

### イニシャルコスト
| 項目 | 最低額 | 最高額 |
|------|--------|--------|
| **基本開発費** | 150万円 | 220万円 |
| 全文検索機能実装 | 20万円 | 50万円 |
| インフラ構築 | 60万円 | 105万円 |
| テスト・品質保証 | 35万円 | 65万円 |
| その他（マニュアル・研修） | 10万円 | 20万円 |
| **開発費用合計** | **270万円** | **430万円** |
| サーバー機器代（別途） | 38万円 | 105万円 |
| **総合計** | **308万円** | **535万円** |

### ランニングコスト
- **サーバー維持費**: 月0円（自社サーバーのため電気代のみ）
- **SSL証明書更新**: 0円/年（Let's Encrypt）または既存証明書使用
- **保守契約**: なし（初期導入のみ）
- **想定年間コスト**: 0円

### コスト試算条件
- 想定ユーザー数: 応募者99名 + エージェント10名
- ストレージ容量: 10GB
- 保守契約なし（必要に応じて別途契約）

## 12. 運用・保守計画

### 運用体制
- **システム管理者**: 社内IT担当者1名
- **監視**: サーバーリソース監視ツール（Zabbix、Nagios等）
- **障害対応**: 営業時間内（平日9:00-18:00）に対応
- **問い合わせ窓口**: 社内ヘルプデスク

### 保守内容
- **バグ修正**: 発見後1週間以内（重大なバグは24時間以内）
- **セキュリティアップデート**: 脆弱性発見後48時間以内
- **機能追加**: 別途見積もり
- **バックアップ**: 日次自動バックアップ（7日間保持）

### SLA
- **障害対応時間**: 
  - 重大障害（システム停止）: 2時間以内に対応開始
  - 軽微な不具合: 1営業日以内に対応開始
- **復旧目標時間（RTO）**: 4時間以内
- **問い合わせ回答**: 1営業日以内
- **稼働率目標**: 99.5%以上（営業時間内）

### バックアップ戦略
- **バックアップ対象**: データベース、アップロードファイル、設定ファイル
- **バックアップ頻度**: 毎日深夜2時に自動実行
- **保持期間**: 7日間（7世代）
- **バックアップ先**: 外付けHDDまたはNAS
- **復旧テスト**: 四半期ごとに実施

## 評価／改善点

### AIによる成果物評価の視点
- 機能の過不足はないか
- UI/UXは使いやすいか（特にモバイル対応）
- セキュリティ対策は十分か
- パフォーマンス要件は達成可能か
- コストは予算内に収まっているか

### 今後の改善検討事項
- ユーザーテストによるUI/UX改善
- アクセス解析による機能追加の優先順位付け
- メール・SMS通知機能の追加
- 外部システム連携（ATS、CRM等）
- AIによる求人マッチング機能
- データ分析・レポート機能

### リスクと対策
| リスク | 発生確率 | 影響度 | 対策 |
|--------|---------|--------|------|
| サーバー機器の調達遅延 | 中 | 高 | 早期発注、代替機の検討 |
| 開発期間の遅延 | 中 | 中 | 段階的リリース、優先度付け |
| セキュリティ脆弱性の発見 | 低 | 高 | ペネトレーションテスト実施 |
| ユーザーの操作習熟度不足 | 高 | 中 | 充実した研修、マニュアル整備 |
