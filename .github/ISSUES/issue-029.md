# Issue #29: ウイルススキャン統合（オプション）

## 背景 / 目的
アップロードされたファイルのウイルススキャンを実装する（将来機能）。セキュリティを強化し、悪意のあるファイルの検出を行う。

- **依存**: #26
- **ラベル**: `backend`, `security`, `file`, `phase-3`

## スコープ / 作業項目

### ウイルススキャン
- [ ] ClamAV または VirusTotal API 統合
- [ ] アップロード後に非同期でスキャン実行
- [ ] スキャン結果を Firestore に保存（clean, infected, pending）
- [ ] 感染ファイル検出時にファイル削除
- [ ] 感染ファイル検出時にエージェントに通知
- [ ] スキャン状態がファイル一覧で確認できる

## ゴール / 完了条件（Acceptance Criteria）

- [ ] ClamAV または VirusTotal API が統合されている
- [ ] アップロード後に非同期でスキャンが実行される
- [ ] スキャン結果が Firestore に保存される（clean, infected, pending）
- [ ] 感染ファイル検出時にファイルが削除される
- [ ] 感染ファイル検出時にエージェントに通知される
- [ ] スキャン状態がファイル一覧で確認できる

## テスト観点

### 検証方法
（実装時に詳細化）

## 要確認事項

（必要に応じて追加）

## 参考資料

- [実装計画](../docs/08_implementation_plan.md)
- [要件定義書](../docs/01_requirements.md)
- [アーキテクチャ設計書](../docs/02_architecture.md)
